<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<title>TooPots</title>
	<meta charset="UTF-8" />
    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css"
    	  href="/css/navegation.css" th:href="@{/css/navegation.css}">
    <link rel="stylesheet" type="text/css"
    	  href="/css/basicpage.css" th:href="@{/css/basicpage.css}">
    <link rel="stylesheet" type="text/css"
    	  href="/css/tabs.css" th:href="@{/css/tabs.css}">
   <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    	  
</head>
<body background="../images/banner.jpg">
	<div th:replace="fragments/navegation" ></div>
	
	<h2>Certificates:</h2>
	<div class="divCertificate">
	<ul id="superUl">
    	<li><a href="#tab1" class="btn btn-warning">Pending certificates</a></li>
    	<li><a href="#tab2" class="btn btn-success">Approved certificates</a></li>
    	<li><a href="#tab3" class="btn btn-danger">Rejected certificates</a></li>
	</ul>
	
	<div id="tab1" class="tab-content">
		<h2>Pending certificates:</h2>
		<table id="left" class="table table-striped" >
			
			<thead>
				<tr>
					<th>File Name</th>
	        		<!-- <td><embed th:src="${certificate.route}" width="100%" height="600px" type="application/pdf"></td> -->
	        		<th></th>
	        		<th></th>
	        		<th></th>
	        	</tr>
	        </thead>
	        <tbody>
	        	<tr th:each="certificate:${certificates}">
	        		<td th:text="${certificate.fileName}"></td>
	        		<td><a th:href=@{http://localhost:8090/{pdf}(pdf=${certificate.route})} class="btn btn-info" role="button">Download</a></td>
	        		<td><a th:href=@{/administrator/acceptCertificate/{id}(id=${certificate.certificateId})} class="btn btn-success" role="button">Approve</a></td>
	        		
	        		<td><button onclick="document.getElementById('id01').style.display='block'" class="btn btn-danger">Reject</button></td>
	        		
	        		<div id="id01" class="w3-modal">
					    <div class="w3-modal-content">
					      <header class="w3-container red-header"> 
					        <span onclick="document.getElementById('id01').style.display='none'" 
					        class="w3-button w3-display-topright">&times;</span>
					        <h2 class="h2Red">Confirmation Message</h2>
					      </header>
					      <div class="w3-container">
					        <p class="p-white">Are you sure you want to reject this certificate?</p>
					        <p><a th:href=@{/administrator/rejectCertificate/{id}(id=${certificate.certificateId})} class="btn btn-info" role="button">Continue</a>
					        <a onclick="document.getElementById('id01').style.display='none'" class="btn btn-danger" role="button">Cancel</a>
					        </p>
					      </div>
					    </div>
					  </div>
	        	</tr>
	        </tbody>
	    </table>
	    
	    
	</div>
	<div id="tab2" class="tab-content">
		<h2>Approved certificates:</h2>
		<table id="left" class="table table-striped">
			
			<thead>
				<tr>
					<th>File Name</th>
	        		<!-- <td><embed th:src="${certificate.route}" width="100%" height="600px" type="application/pdf"></td> -->
	        		<th></th>
	        		<th></th>
	        		<th></th>
	        	</tr>
	        </thead>
	        <tbody>
	        	<tr th:each="approvedCertificate:${approvedCertificates}">
	        		<td th:text="${approvedCertificate.fileName}"></td>
	        		<td><a th:href=@{http://localhost:8090/{pdf}(pdf=${approvedCertificate.route})} class="btn btn-info" role="button">Download</a></td>
	        	</tr>
	        </tbody>
	    </table>
	</div>
	<div id="tab3" class="tab-content">
		<h2>Rejected certificates:</h2>
		<table id="left" class="table table-striped">
			
			<thead>
				<tr>
					<th>File Name</th>
	        		<!-- <td><embed th:src="${certificate.route}" width="100%" height="600px" type="application/pdf"></td> -->
	        		<th></th>
	        		<th></th>
	        		<th></th>
	        	</tr>
	        </thead>
	        <tbody>
	        	<tr th:each="rejectedCertificate:${rejectedCertificates}">
	        		<td th:text="${rejectedCertificate.fileName}"></td>
	        		<td><a th:href=@{http://localhost:8090/{pdf}(pdf=${rejectedCertificate.route})} class="btn btn-info" role="button">Download</a></td>
	        		<td><a th:href=@{/administrator/acceptCertificate/{id}(id=${rejectedCertificate.certificateId})} class="btn btn-success" role="button">Approve</a></td>
	        	</tr>
	        </tbody>
	    </table>
	</div>
	</div>
</body>
</html> 